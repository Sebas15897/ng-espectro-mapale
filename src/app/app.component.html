<div class="app-container">
  <!-- Header con controles -->
  <header class="app-header">
    <div class="header-content">
      <!-- Título -->
      <div class="app-title">
        <h2>{{ title }}</h2>
        <small>Análisis del espectro sonoro del mapalé colombiano</small>
      </div>

      <!-- Controles -->
      <div class="controls">
        <app-instrument-selector
          (instrumentChange)="onInstrumentSelected($event)"
        ></app-instrument-selector>
        <app-audio-recorder
          [selectedInstrument]="selectedInstrument"
          (frequencyData)="onFrequencyDataUpdate($event)"
          (timeData)="onTimeDataUpdate($event)"
          (harmonics)="onHarmonicsUpdate($event)"
          (recordingStateChange)="onRecordingStateChange($event)"
        ></app-audio-recorder>
      </div>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="app-content">
    <div class="main-row">
      <!-- Analizador de Espectro -->
      <div class="analyzer-section">
        <app-spectrum-analyzer
          [frequencyData]="frequencyData"
          [harmonics]="harmonics"
          [isRecording]="isRecording"
        ></app-spectrum-analyzer>
      </div>

      <!-- Frecuencia Dominante -->
      <div class="frequency-section">
        <app-color-mapper
          [frequencyData]="frequencyData"
          [selectedInstrument]="selectedInstrument?.id"
        ></app-color-mapper>
      </div>
    </div>

    <!-- Espectro de Frecuencias (debajo) -->
    <div class="spectrum-section">
      <!-- Aquí irá el tercer componente -->
    </div>
  </main>

  <footer class="app-footer">
    <small>Proyecto de investigación - Universidad Americana</small>
  </footer>
</div>

<router-outlet />
